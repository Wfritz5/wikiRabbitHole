(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{182:function(e,n,t){e.exports=t.p+"static/media/search.4c8d6a29.svg"},183:function(e,n,t){e.exports=t.p+"static/media/search_detail.3b58d2f4.svg"},184:function(e,n,t){e.exports=t.p+"static/media/random.e3868327.svg"},185:function(e,n,t){e.exports=t.p+"static/media/random_detail.ee8ab075.svg"},189:function(e,n,t){e.exports=t.p+"static/media/noImage.67edcff8.svg"},193:function(e,n,t){e.exports=t.p+"static/media/logo.884d5920.svg"},199:function(e,n,t){e.exports=t(420)},204:function(e,n,t){},224:function(e,n,t){},225:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAACXBIWXMAAAsSAAALEgHS3X78AAAEtUlEQVR4nO2d/3XiMAzHdSyQdIJmg+YmaG4DNiid4DoCI8AGdAM2OJjg6AZ0goMJfC95Cg1pkJTYcUyi73t+/QcS+4Mqy7/kH8YYCEgJAKSVEgPAs7B6ewA4AcChUo6hNG1o0DnYDADm+Ddy/PwzAOwAYIt/BwM/BOjcShdYnjy/+wMANlhOPl/sE3SGcF98vZDROwLf+XiZD9A54GULX+tbe6xfr8D7BJ13ZquAAdeVA3/DjtS5Zj08M0bAf+8IMmBd/2LdY9cPd23Rc/R7ttHDJ0YIu0rIRqkMBTOMZB4t33/G/mRr+ZyLXIGO0c/97vj9cyUEcxGGlWFjGTp2/eHX2C77CCUHbVkSY8zBdNPGGDN3UAeuzPFdXXTANlrVwbYBqTHm1LLy+eeXxpjYA+B6ifHdXeqcDgV6cUeAXQFf+AbdFvIqEMBNwFc+YPcN+WiMyQIEXC8Z1rU32H1C3gRqxZR1t+kwW8FuU5G0z188oNLGmMQdpDSOTnDQwMWjZ4xdexnGelSK8bykvakk7pcMwWMcTEwFMmAbMmwTpQjZsEN2CeilYN54TJBLSWE/ISNajG+ZC/yUdTAfeJEOysgRLuWjY/Q9nMv4OTJLblKKM3uUztiXNc6LUK5jKYD8OgHIgG18ZT4TkS7EIpTbjNhd3CqSOLvRjd5yHTtm0v4T/528LnAGoBitm5rv3mMneqUm15EJVkYWE4QM2OYF85lnKWguVFn7WjkOVDtkQOkbw7rryH+JP8QDyJ51QpJEZL+qBlm3aO7fYqWQC52QBaUrllWLzn+lf8QX1ZqvJbHqh5JX1aLVmtuplVVXLfrAzGk8KOhv4rzAB4bBF4tOGMjvCrlRJ2RzS0/I9gL6W9xXk7ONJCMUxyargp4THzwraFJbZiq1YCuxaIXMi2J0seiECVGmPAqUimKUs01mZa9ISEHz4hilHOjPkA7cBKwjsrolFrRClotiVYCmVnDVbchFsYpnzNyzDlLkolg9c9sNprAe6Eokqz7OsKgU9HBS0J7EgdbO0JE40M7P201V6jo8SUF7Egeam3BSCVnNcAvTLamPlotitZ8xkQW3xKWSsTrNmKFjoiDFolgdONCPClskLqMCCxrUfYjEMSpAH5lVXAXNi2KUsz2W4R01aU1tRVDxjAq2JWhquTxS2KS4xCsFW4lFg4ImxbEp2OomRzu13uQImHSK0luYbR1UHJMLU92I3l2dN6JzW1AjteorvTGQr7Y662GhbrI+LLRjZvPoY7jTEXd8e1+P5JpOznJWDfVfa2LqxEePKLeT0yPKIOj0HgUnksaolSDvaSO7W6APgmO4L4Ijc2OSJMn4+tZsqCZGkanXxCiSk/yA/nzMi7ipsOMnMz5wq+BbgQuJRgxbmpZtzR2qkuS9i/FlU8sUJoX8ge0mIzBNMNisQRIMAj5IsqQVYadxz9HIAtsgyaKeic/5tEzepElgv9RbEtgusDWtsQXotrBzaaJui0pq6nlPoEEvU/AHGvR6EFnRC29oObvwRq9walawVzhVZWvdQ8vdtU0V6TV7X7q7a/ZKlanb8/UzasF3aO2xjr3O0ehVqCO6CrUuvdx3AOl11QNpnBewA8B/D5mPmTDFWtMAAAAASUVORK5CYII="},244:function(e,n){},257:function(e,n){},259:function(e,n){},420:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(181),o=t.n(i),s=(t(204),t(6)),c=t(7),l=t(9),u=t(8),d=t(10),h=t(1),m=t(2),p=t(194),f=t(27),g=t(111),v=t(12),w=t.n(v),b={login:function(e){return w.a.post("/api/users/login",e)},isLoggedIn:function(){return w.a.get("/api/users/profile")},signup:function(e){return w.a.post("/api/users/signup",e)},logout:function(){return w.a.get("/api/users/logout")},scrape:function(e,n){return w.a.get("/api/scrape/".concat(e,"/").concat(n))},addUrl:function(e,n){return w.a.post("/api/rabUrl/".concat(e),n)},getUrl:function(e){return w.a.get("/api/rabUrl/".concat(e))},updateUrl:function(e){return w.a.put("/api/rabUrl/".concat(e))},deleteUrl:function(e){return w.a.delete("/api/rabUrl/".concat(e))},findUrlByKeyWord:function(e){return w.a.get("/api/rabUrl/keyWord/".concat(e))},findUrlBySingleUserKeyWord:function(e,n){return w.a.get("/api/rabUrl/keyWord/".concat(e,"/").concat(n))},getUserByName:function(e){return w.a.get("/api/users/username/".concat(e))},getUserById:function(e){return w.a.get("/api/users/byid/".concat(e))},updateUserById:function(e){return w.a.put("/api/users/".concat(e))},deleteUserById:function(e){return w.a.delete("/api/users/".concat(e))}},E=t(182),k=t.n(E),y=t(183),x=t.n(y),O=t(184),j=t.n(O),C=t(185),A=t.n(C);function S(){var e=Object(h.a)(["\nposition:relative;\nwidth: 100%;\nalign-content: center;\njustify-content: center;\ndisplay: flex;\nmargin-top:5em;\nz-index:1000;"]);return S=function(){return e},e}function L(){var e=Object(h.a)(["\nbackground-color:#000000;\ncolor:#DCDCDC;\nborder: 1px solid white;\nborder-radius:25px;\nheight:25px;\nbox-shadow: 0 0 10px #666666;\nfont-size:0.8em;\nmargin:0px 0px 2px 5%;\n&:focus {\n    outline: 0;\n}"]);return L=function(){return e},e}function I(){var e=Object(h.a)(["\ndisplay:flex;\nborder: none;\nborder-radius: 3px;\nfloat:right;\nwidth:70%;\nalign-content:center;\njustify-content:center;\n"]);return I=function(){return e},e}function U(){var e=Object(h.a)(["\nbackground: url('","') no-repeat;\nbackground-size:contain;\nmin-height:40px;\nmin-width:40px;\nborder:0;\nmargin:2px 0px 0px 0px;\ntransition: background 0.2s;\n&:hover{\n  background: url('","') no-repeat;\n  background-size:50%;\n  }\n&:focus {\n    outline: 0;\n}"]);return U=function(){return e},e}function F(){var e=Object(h.a)(["\nbackground: url('","') no-repeat;\nbackground-size:cover;\nbackground-size:contain;\nmin-height:40px;\nmin-width:40px;\nborder:0;\nmargin:2px 5% 0px 5%;\ntransition: background 0.2s;\n&:hover{\nbackground: url('","') no-repeat;\nbackground-size:50%;\n}\n\n&:focus {\n    outline: 0;\n}\n"]);return F=function(){return e},e}function z(){var e=Object(h.a)(["\nborder: 1px solid white;\npadding:5px 10px;\nborder-radius: 15px;\nheight:13px;\nmin-width:130px;\nbackground-color:#000000;\ncolor:white;\nwidth:50%;\nbox-shadow: 0 0 10px #666666;\nmargin:0px 5% 0px 5%;\n&:focus {\n    outline: 0;\n}\n"]);return z=function(){return e},e}var P=m.a.input(z()),D=m.a.button(F(),k.a,x.a),N=m.a.button(U(),j.a,A.a),M=m.a.form(I()),T=m.a.button(L()),B=m.a.div(S()),W=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(u.a)(n).call(this))).state={term:""},t.handleInputChange=function(e){t.setState({term:e.target.value})},t.search=function(e,n){e.preventDefault(),t.props.scrape("https://en.wikipedia.org/wiki/"+n)},t.random=function(e){e.preventDefault(),t.props.scrape("https://en.wikipedia.org/wiki/Special:Random")},t}return Object(d.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(B,null,r.a.createElement(M,{id:"wiki-form",onSubmit:function(n){e.search(n,e.state.term)}},r.a.createElement(T,{id:"clear-search",label:"Clear",onClick:function(){return e.setState({term:""})},type:"reset"}," clear "),r.a.createElement(P,{type:"text",name:"wikiSearch",id:"wikiSearch",placeholder:". . .",value:this.state.term,onChange:this.handleInputChange}),r.a.createElement(N,{type:"button",id:"random-search",label:"Random",onClick:function(n){e.random(n)}}),r.a.createElement(D,{type:"submit"})))}}]),n}(a.Component),H=(t(224),function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(u.a)(n).call(this,e))).openNav=function(){t.setState({navClass:"open",displayClass:"hidden"}),console.log("open")},t.closeNav=function(){t.setState({navClass:"closed",displayClass:"visible"}),console.log("closed")},t.state={navClass:"closed",displayClass:"visible"},t.mySidenav=r.a.createRef(),t.main=r.a.createRef(),t}return Object(d.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{id:"mySidenav",ref:this.mySidenav,className:"sidenav ".concat(this.state.navClass)},r.a.createElement("button",{className:"closebtn",onClick:this.closeNav},"\xd7"),r.a.createElement("article",null,r.a.createElement("img",{src:this.props.state.image,alt:this.state.title}),r.a.createElement("p",{id:"summary"},this.props.state.article,r.a.createElement("a",{href:this.props.state.href},"more at Wikipedia")),this.props.state.loggedIn?r.a.createElement("p",{id:"favorite",onClick:this.props.addFavorite},this.props.state.article?"\u269d add to favorites":""):r.a.createElement(r.a.Fragment,null)),r.a.createElement("div",{id:"user-profile"},this.props.state.loggedIn?r.a.createElement("div",null,r.a.createElement("h2",null,this.props.state.username),r.a.createElement("h3",null,"favorites"),r.a.createElement("hr",null),this.props.state.favorites.map(function(n,t){return r.a.createElement("li",{key:t},r.a.createElement("span",{class:"favorite"},n.title),r.a.createElement("a",{class:"wiki",key:t,href:n.urlString,rel:"noopener noreferrer",target:"_blank"}," wiki"),r.a.createElement("p",{"data-rabid":n._id,onClick:function(n){return e.props.deleteFavorite(n)}},"Delete Me"))})):r.a.createElement("h3",null,"signup or login to access and organize starred links"))),this.props.state.links.length?r.a.createElement("div",{id:"main",ref:this.main},r.a.createElement("button",{className:this.state.displayClass,onClick:this.openNav},". . . see more")):r.a.createElement(r.a.Fragment,null))}}]),n}(a.Component)),R=t(5),J=function(e,n,t,a,r,i){for(var o=n.split(" "),s="",c=0;c<o.length;c++){var l=s+o[c]+" ";e.measureText(l).width>r?(e.fillText(s,t,a),s=o[c]+" ",a+=i):s=l}e.fillText(s,t,a)},q=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(u.a)(n).call(this,e))).updateDimensions=function(){var e=window.innerWidth,n=window.innerHeight;t.setState({width:e,height:n})},t.onMouseMove=function(e){t.mouse.x=e.clientX/window.innerWidth*2-1,t.mouse.y=-e.clientY/window.innerHeight*2+1},t.raycast=function(e){if(t.props){t.intersects=t.raycaster.intersectObjects(t.scene.children[0].children),t.raycaster.setFromCamera(t.mouse,t.camera);for(var n=0;n<t.scene.children[0].children.length;n++)t.intersects.length&&t.intersects[0].object===t.scene.children[0].children[n]?(t.scene.children[0].children[n].position.z=.1,t.scene.children[0].children[n].material.color.setHex("0xff0000")):(t.scene.children[0].children[n].material.color.setHex("0xdddddd"),t.scene.children[0].children[n].position.z=0)}},t.onClick=function(e){for(var n=0;n<t.scene.children[0].children.length;n++)t.intersects.length&&t.intersects[0].object===t.scene.children[0].children[n]&&t.props.scrape("https://en."+t.scene.children[0].children[n].name)},t.renderCentral=function(){var e=t.props.state.title,n=new R.a,a=document.createElement("canvas");a.width=1024,a.height=1024;var r=a.getContext("2d");r.fillStyle="#686868",r.textAlign="center",r.font="bold 60px Tahoma, Geneva, sans-serif",J(r,e,512,512,400,65);var i=new R.i(a);i.needsUpdate=!0;var o=new R.k;o.x=0,o.y=0,o.z=0,n.vertices.push(o);var s=new R.f({size:10,map:i,depthTest:!1,transparent:!0}),c=new R.e(n,s);t.scene.add(c),c.position.set(0,0,-3)},t.renderButtons=function(){for(var e=t.props.state.linkTitles,n=t.props.state.links,a=new R.b,r=0;r<t.props.state.linkLength;r++){var i=new R.a,o=document.createElement("canvas");o.width=1024,o.height=1024;var s=o.getContext("2d");s.fillStyle="#ffffff",s.textAlign="center",s.font="normal 38px Tahoma, Geneva, sans-serif",J(s,e[r],512,512,500,45);var c=new R.i(o);c.needsUpdate=!0;var l=new R.k;l.x=R.c.randFloatSpread(10),l.y=R.c.randFloatSpread(10),l.y<0&&l.y>-1&&(l.y-=2),l.y>0&&l.y<1&&(l.y+=2),l.x<0&&l.x>-1&&(l.x-=2),l.x>0&&l.x<1&&(l.x+=2),i.vertices.push(l);var u=new R.f({size:10,map:c,depthTest:!1,transparent:!0}),d=new R.e(i,u);d.name=n[r],a.add(d)}t.scene.add(a),a.position.set(0,0,0)},t.initializeCamera=function(){t.camera.position.x=0,t.camera.position.y=0,t.camera.position.z=0},t.animate=function(){t.frameId=window.requestAnimationFrame(t.animate),t.renderer.render(t.scene,t.camera),t.scene.children[0].rotation.z-=.001,t.camera.position.z=.2*(t.mouse.x-t.mouse.y)+10,t.scene.children[1]&&(t.scene.children[1].position.z=.25*(t.mouse.x-t.mouse.y)-3)},t.state={width:window.innerWidth,height:window.innerHeight},t}return Object(d.a)(n,e),Object(c.a)(n,[{key:"componentDidMount",value:function(){this.updateDimensions(),window.addEventListener("resize",this.updateDimensions.bind(this)),window.addEventListener("mousemove",this.raycast.bind(this),!1),window.addEventListener("touchmove",this.raycast.bind(this),!1),window.addEventListener("click",this.onClick.bind(this)),window.addEventListener("ontouch",this.onClick.bind(this));var e=this.state.width,n=this.state.height;this.scene=new R.h,this.mouse=new R.j,this.camera=new R.d(1e3,e/n,.1,1e4),this.renderer=new R.l({antialias:!0,alpha:!0}),this.raycaster=new R.g,this.renderer.setSize(e,n),this.mount.appendChild(this.renderer.domElement),this.initializeCamera(),this.renderer.setClearColor(16777215,0),this.renderButtons(),this.animate(),console.log("".concat(window.innerWidth,",").concat(window.innerHeight))}},{key:"componentDidUpdate",value:function(){for(this.mount.removeChild(this.renderer.domElement);this.scene.children.length>0;)this.scene.remove(this.scene.children[0]);this.renderButtons(),this.renderCentral(),this.renderer.setSize(this.state.width,this.state.height),this.mount.appendChild(this.renderer.domElement)}},{key:"componentWillReceiveProps",value:function(e){for(;this.scene.children.length>0;)this.scene.remove(this.scene.children[0])}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.frameId),window.removeEventListener("resize",this.updateDimensions.bind(this)),window.removeEventListener("mousemove",this.raycast.bind(this)),window.removeEventListener("touchmove",this.raycast.bind(this)),window.removeEventListener("click",this.onClick.bind(this)),window.removeEventListener("ontouch",this.onClick.bind(this)),this.mount.removeChild(this.renderer.domElement)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{onMouseMove:this.onMouseMove,id:"boardCanvas",style:{top:0,position:"absolute",width:"100vw",height:"100vh",maxHeight:"100%",maxWidth:"100%",zIndex:0},ref:function(n){e.mount=n}}))}}]),n}(a.Component);t(225);function V(){var e=Object(h.a)(["\nposition:fixed;\ntop:25%;\nright:1em;\nwidth: 1em;\nheight:50%;\nmargin:1.5em;\nz-index:500;\n&:hover{\n    span{\n        opacity:1;\n    }\n}\n"]);return V=function(){return e},e}function Y(){var e=Object(h.a)(["\ncolor:red;\nposition:absolute;\ndisplay:block;\nright:2em;\nopacity:0;\ntransition:opacity 1s;\nbottom:",";\n"]);return Y=function(){return e},e}function G(){var e=Object(h.a)(["\ncolor:white;\nposition:absolute;\ndisplay:block;\nright:2em;\nopacity:0;\ntransition:opacity 1s;\ntop:0;\n"]);return G=function(){return e},e}function X(){var e=Object(h.a)(["\n-webkit-appearance: none;\nborder-radius: 5px;   \nbackground: #d3d3d3;\noutline: none;\nopacity: 0.7;\n-webkit-transition: .2s;\ntransition: opacity .2s;\nposition:relative;\nheight:100%;\nwidth:100%;\n-webkit-appearance: slider-vertical;\n"]);return X=function(){return e},e}var Q=m.a.input(X()),Z=m.a.span(G()),K=m.a.span.attrs(function(e){return{position:e.position}})(Y(),function(e){return e.position}),_=m.a.div(V()),$=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(u.a)(n).call(this,e))).handleChange=function(e){t.props.update(e);var n=e.target.value,a=n/t.props.linkLength*(window.innerHeight/2)-10+"px";t.setState({position:a,value:n}),console.log(t.props.linkLength),console.log(e.target.value)},t.state={position:window.innerHeight/4,value:t.props.linkLength/2,visible:0},t}return Object(d.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(_,null,r.a.createElement(Z,null,"# of results"),r.a.createElement(K,{position:this.state.position},this.state.value),r.a.createElement(Q,{type:"range",min:"0",defaultValue:this.props.linkLength/2,max:this.props.linkLength,orient:"vertical",onChange:function(n){return e.handleChange(n)}}))}}]),n}(a.Component);function ee(){var e=Object(h.a)(["\n    opacity:0;\n    transition: opacity 0.5s;\n    display:inline-block;\n    margin:auto 0 auto 5px;\n    color:red;\n    "]);return ee=function(){return e},e}function ne(){var e=Object(h.a)(["\n    display:inline-block;\n    "]);return ne=function(){return e},e}function te(){var e=Object(h.a)(["\n    &:hover{\n        stroke:red\n    }"]);return te=function(){return e},e}function ae(){var e=Object(h.a)(["\n    position:relative;\n    height:25px;\n    &:hover{\n        p{\n            opacity:1;\n        }\n    }\n    "]);return ae=function(){return e},e}function re(){var e=Object(h.a)(["\n    position:fixed;\n    top:15%;\n    display:relative;\n    z-index:500;\n    margin-left:1em;\n    "]);return re=function(){return e},e}var ie=m.a.ul(re()),oe=m.a.li(ae()),se=m.a.circle(te()),ce=m.a.svg(ne()),le=m.a.p(ee()),ue=function(e){var n=e.store;return r.a.createElement(ie,null,n.map(function(n,t){return r.a.createElement(oe,{key:t},r.a.createElement(ce,{key:t,height:2/(2/(t+2))*2+6,width:2/(2/(t+2))*2+6},r.a.createElement(se,{onClick:function(n){return function(n){var t=n.target.dataset.state;e.update(t)}(n)},"data-state":t,key:t,cx:2/(2/(t+2))+3,cy:2/(2/(t+2))+3,r:2/(2/(t+2)),stroke:"white",strokeWidth:"3",fill:"black",fillOpacity:"0.3"})),r.a.createElement(le,null,n.title))}))},de=t(108),he=t.n(de),me=t(188),pe=t(189),fe=t.n(pe);function ge(e,n){for(var t=[],a=[];t.length<n;){var r=Math.floor(Math.random()*e.length);if(-1===a.indexOf(r)){var i="wikipedia.org".concat(e[r]);t.push(i),a.push(r)}}return t}var ve=t(12),we=t(228);function be(){return(be=Object(me.a)(he.a.mark(function e(n,t){return he.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:ve.get(n,{validateStatus:function(e){return e<500},headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Authorization, x-id, Content-Length, X-Requested-With"}}).then(function(e){var n={};if(200===e.status){var a=[],r=we.load(e.data);r(".mw-body").each(function(e,i){n.title=r(this).children("h1#firstHeading").text(),n.summary="".concat(r(this).find("p").text().slice(0,300).replace(/ *\[[^\]]*]/,""),"..."),n.image=r(this).find(".image").attr("href");var o=r(this).find("a");n.url="https://wikipedia.org/wiki/".concat(n.title.replace(/ /g,"_")),r(o).each(function(e,n){a.push("".concat(r(n).attr("href")))});var s=a.filter(function(e){return e.includes("/wiki/")&&!e.includes(":")&&!e.includes("%")&&!e.includes("#")});s.length<20?n.randomLinks=ge(s,s.length):n.randomLinks=ge(s,20),n.image?(n.image="https://wikipedia.org".concat(n.image),ve.get(n.image).then(function(e){var a=we.load(e.data);a(".fullImageLink").each(function(e,r){n.image=a(this).children("a").attr("href"),console.log(n),t(n)})}).catch(function(e){return console.log(e)})):(n.image=fe.a,console.log(n),t(n))})}else n.title="Page not found",n.image="",n.url="",n.summary="",n.randomLinks=[],t(n)}).catch(function(e){return console.log(e)});case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ee(){var e=Object(h.a)(["\nposition:absolute;\nwidth:100%;\nheight:100%;\nclear:both;\noverflow:hidden;\n"]);return Ee=function(){return e},e}var ke=m.a.div(Ee()),ye=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(u.a)(n).call(this,e))).loggedIn=function(){b.isLoggedIn().then(function(e){e.data.loggedIn&&b.getUserById(e.data.user._id).then(function(e){t.setState({loggedIn:!0,username:e.data.username,userId:e.data._id,favorites:e.data.rabUrl})}).catch(function(e){console.log(e)})})},t.addTags=function(){},t.updateState=function(e){t.setState(t.state.rabbitHole[e])},t.updateLinkLength=function(e){var n=e.target.value;t.setState({linkLength:n})},t.addFavorite=function(){var e={title:t.state.title,summary:t.state.summary,urlString:t.state.href,image:t.state.image,userId:t.state.userId,keywords:t.state.tags};b.addUrl(t.state.userId,e).then(function(e){var n=JSON.parse(e.config.data);t.setState({favorites:[].concat(Object(g.a)(t.state.favorites),[n])})})},t.deleteFavorite=function(e){var n=e.target.dataset.rabid;b.deleteUrl(n).then(function(e){b.getUserById(t.state.userId).then(function(e){t.setState({favorites:e.data.rabUrl})}).catch(function(e){console.log(e)})})},t.scrapeResource=function(e){!function(e,n){be.apply(this,arguments)}(e,function(e){var n=[],a=[],r=.5;t.state.links.length&&(r=t.state.linkLength/t.state.links.length);for(var i=0;i<20;i++)e.randomLinks[i]&&(n.push(e.randomLinks[i]),a.push(e.randomLinks[i].slice(19).replace(/_/gi," ")));t.setState({href:e.url,linkTitles:a,links:n,linkLength:e.randomLinks.length*r,image:e.image,article:e.summary,title:e.title,rabbitHole:[].concat(Object(g.a)(t.state.rabbitHole),[t.state])})})},t.state={loggedIn:!1,href:"",linkTitles:[],links:[],image:"",article:"",title:"",linkLength:0,username:null,favorites:[],userId:null,tags:[],rabbitHole:[]},t}return Object(d.a)(n,e),Object(c.a)(n,[{key:"componentDidMount",value:function(){this.loggedIn()}},{key:"render",value:function(){return r.a.createElement(ke,{className:"homeBox"},r.a.createElement(W,{scrape:this.scrapeResource}),r.a.createElement(H,{state:this.state,addFavorite:this.addFavorite,deleteFavorite:this.deleteFavorite}),this.state.links.length?r.a.createElement($,{update:this.updateLinkLength,linkLength:this.state.links.length}):r.a.createElement(r.a.Fragment,null),r.a.createElement(q,{state:this.state,scrape:this.scrapeResource}),r.a.createElement(ue,{store:this.state.rabbitHole,update:this.updateState}))}}]),n}(a.Component),xe=t(190);function Oe(){var e=Object(h.a)(["\ncolor:white;\nmargin:0.5em;\ntext-align:right;\n"]);return Oe=function(){return e},e}function je(){var e=Object(h.a)(["\ndisplay:flex;\njustify-content:center;\nwidth:100%;\nmargin:5em;\n"]);return je=function(){return e},e}function Ce(){var e=Object(h.a)(["\nbackground-color:#000000;\ncolor:#DCDCDC;\nborder: 1px solid white;\nborder-radius:25px;\nheight:25px;\nbox-shadow: 0 0 10px #666666;\nfont-size:0.8em;\nmargin:0px 0px 2px 5%;"]);return Ce=function(){return e},e}function Ae(){var e=Object(h.a)(["\ncolor:white;\n"]);return Ae=function(){return e},e}function Se(){var e=Object(h.a)(["\ncolor:white;\ntext-decoration:none;\nmargin:0.5em;\ntext-align:right;\n"]);return Se=function(){return e},e}function Le(){var e=Object(h.a)(["\nmargin:1em;\n"]);return Le=function(){return e},e}function Ie(){var e=Object(h.a)(["\nborder:none;\n"]);return Ie=function(){return e},e}function Ue(){var e=Object(h.a)(["\ncolor:white;\nmargin:0.5em;\n"]);return Ue=function(){return e},e}var Fe=m.a.label(Ue()),ze=m.a.fieldset(Ie()),Pe=m.a.hr(Le()),De=m.a.a(Se()),Ne=m.a.h2(Ae()),Me=m.a.button(Ce()),Te=m.a.div(je()),Be=m.a.p(Oe()),We={marginLeft:"0.2em"};var He=function(e){return r.a.createElement(Te,{className:"login"},r.a.createElement(Ne,{className:"loginTitle title-font"},"Login"),r.a.createElement(Pe,null),e.message?r.a.createElement("alert",{className:"animated fadeIn",color:"danger"},e.message):r.a.createElement(r.a.Fragment,null),r.a.createElement("form",null,r.a.createElement(ze,null,r.a.createElement(Fe,{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",name:"username",id:"username",placeholder:"username",value:e.username,onChange:e.handleInputChange})),r.a.createElement(ze,null,r.a.createElement(Fe,{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"password",value:e.password,onChange:e.handleInputChange,style:We})),r.a.createElement(Me,{id:"loginButton",onClick:e.handleLogin},"Login"),r.a.createElement(Be,{className:"signupLink"},r.a.createElement(De,{href:"/signup"},"No account? Sign up here"))))},Re=t(422);function Je(){var e=Object(h.a)(["\nmargin:1em;\n"]);return Je=function(){return e},e}function qe(){var e=Object(h.a)(["\ndisplay:flex;\njustify-content:center;\nwidth:100%;\nmargin:5em;\n"]);return qe=function(){return e},e}function Ve(){var e=Object(h.a)(["\nbackground-color:#000000;\ncolor:#DCDCDC;\nborder: 1px solid white;\nborder-radius:25px;\nheight:25px;\nbox-shadow: 0 0 10px #666666;\nfont-size:0.8em;\nmargin:0px 0px 2px 5%;"]);return Ve=function(){return e},e}function Ye(){var e=Object(h.a)(["\ncolor:white;\nmargin:0.5em;\ntext-align:right;\n"]);return Ye=function(){return e},e}function Ge(){var e=Object(h.a)(["\ncolor:white;\n"]);return Ge=function(){return e},e}function Xe(){var e=Object(h.a)(["\ncolor:white;\ntext-decoration:none;\nmargin:0.5em;\n"]);return Xe=function(){return e},e}function Qe(){var e=Object(h.a)(["\n"]);return Qe=function(){return e},e}function Ze(){var e=Object(h.a)(["\nborder:none;\n"]);return Ze=function(){return e},e}function Ke(){var e=Object(h.a)(["\ncolor:white;\nmargin:0.5em;\n"]);return Ke=function(){return e},e}var _e=m.a.label(Ke()),$e=m.a.fieldset(Ze()),en=m.a.form(Qe()),nn=m.a.a(Xe()),tn=m.a.h2(Ge()),an=m.a.p(Ye()),rn=m.a.button(Ve()),on=m.a.div(qe()),sn=m.a.hr(Je()),cn={marginLeft:"1em"},ln={marginLeft:"-0.2em"},un=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(l.a)(this,(e=Object(u.a)(n)).call.apply(e,[this].concat(r)))).state={validateUsername:!1,validatePassword:!1,confirmPassword:!1},t}return Object(d.a)(n,e),Object(c.a)(n,[{key:"componentDidUpdate",value:function(){this.validateUsername(),this.validatePassword(),this.confirmPassword()}},{key:"validateUsername",value:function(){this.props.username.length>1&&!this.state.validUsername&&this.setState({validUsername:!0}),this.props.username.length<1&&this.state.validUsername&&this.setState({validUsername:!1})}},{key:"validatePassword",value:function(){var e=new RegExp(/(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/).test(this.props.password);!this.state.validPassword&&e&&this.setState({validPassword:!0}),this.state.validPassword&&!e&&this.setState({validPassword:!1})}},{key:"confirmPassword",value:function(){this.props.password===this.props.confirmPassword&&!this.state.confirmPassword&&this.props.password&&this.setState({confirmPassword:!0}),this.props.password!==this.props.confirmPassword&&this.state.confirmPassword&&this.setState({confirmPassword:!1})}},{key:"render",value:function(){return r.a.createElement(on,null,r.a.createElement(tn,{className:"loginTitle title-font"},"Signup"),r.a.createElement(sn,null),this.props.message?r.a.createElement("alert",{className:"animated fadeIn",color:"danger"},this.props.message):r.a.createElement(r.a.Fragment,null),r.a.createElement(en,null,r.a.createElement($e,null,r.a.createElement(_e,{htmlFor:"username"},"Username"),r.a.createElement(Re.a,{style:ln,type:"text",name:"username",id:"username",placeholder:"username",value:this.props.username,onChange:this.props.handleInputChange,valid:this.state.validUsername})),r.a.createElement($e,null,r.a.createElement(_e,{htmlFor:"password"},"Password"),r.a.createElement(Re.a,{type:"password",name:"password",id:"password",placeholder:"password",value:this.props.password,onChange:this.props.handleInputChange,valid:this.state.validPassword})),r.a.createElement($e,null,r.a.createElement(_e,{htmlFor:"confirmPassword"},"Confirm"),r.a.createElement(Re.a,{style:cn,type:"password",name:"confirmPassword",id:"confirmPassword",placeholder:"confirm password",value:this.props.confirmPassword,onChange:this.props.handleInputChange,valid:this.state.confirmPassword}),r.a.createElement(an,null,r.a.createElement("small",null,"( at least 8 characters, 1 capital & 1 number )"))),this.state.validUsername&&this.state.validPassword&&this.state.confirmPassword?r.a.createElement(rn,{onClick:this.props.handleSignup,color:"success"},"Signup"):r.a.createElement(rn,{onClick:this.props.handleSignup,color:"danger",disabled:!0},"Signup"),r.a.createElement(an,{className:"signupLink"},r.a.createElement(nn,{href:"/login"},"already signed up?  Login here"))))}}]),n}(a.Component);function dn(){var e=Object(h.a)(["\ndisplay:flex;\njustify-content:center;\n"]);return dn=function(){return e},e}var hn=m.a.div(dn()),mn=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(l.a)(this,(e=Object(u.a)(n)).call.apply(e,[this].concat(r)))).state={loggedIn:!1,username:"",password:"",confirmPassword:"",user:null,message:""},t.handleInputChange=function(e){var n=e.target.value,a=e.target.name;t.setState(Object(xe.a)({},a,n))},t.handleLogin=function(e){e.preventDefault(),t.state.username&&t.state.password&&b.login({username:t.state.username,password:t.state.password}).then(function(e){console.log(e),e.data.loggedIn?(t.setState({loggedIn:!0,user:e.data.user}),console.log("log in successful"),window.location.href="/"):e.data.message&&t.setState({message:e.data.message})})},t.handleSignup=function(e){e.preventDefault(),t.state.username&&t.state.password&&b.signup({username:t.state.username,password:t.state.password}).then(function(e){e.data.loggedIn?(t.setState({loggedIn:!0,user:e.data.user}),console.log("log in successful"),window.location.href="/"):(console.log("something went wrong :("),console.log(e.data),t.setState({message:e.data}))})},t}return Object(d.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(hn,{className:"authBox"}," ","login"===this.props.action?r.a.createElement(He,{username:this.state.username,password:this.state.password,handleLogin:this.handleLogin,handleInputChange:this.handleInputChange,message:this.state.message}):r.a.createElement(un,{username:this.state.username,password:this.state.password,confirmPassword:this.state.confirmPassword,handleSignup:this.handleSignup,handleInputChange:this.handleInputChange,message:this.state.message}))}}]),n}(a.Component);var pn=function(){return r.a.createElement("div",{className:"notFound"},r.a.createElement("h1",null,"404 Page Not Found"),r.a.createElement("img",{src:"/assets/images/confused-travolta.gif",alt:"confused Travolta"}))},fn=t(25),gn=t(193),vn=t.n(gn);function wn(){var e=Object(h.a)(["\nfloat:left;\nmargin:0.5em 1.5em 0em 1.5em;\nwidth:40%;\n\n"]);return wn=function(){return e},e}function bn(){var e=Object(h.a)(["\nmargin:0.5em;\nfloat:right;\ntext-align:right;\nwidth:40%\n"]);return bn=function(){return e},e}function En(){var e=Object(h.a)(["\ncolor:#FFFFFF;\nmargin:0.5em;\ntext-decoration:none;\n"]);return En=function(){return e},e}function kn(){var e=Object(h.a)(["\ncolor:#FFFFFF;\ndisplay:inline-block;\nmargin:0.5em;\n"]);return kn=function(){return e},e}function yn(){var e=Object(h.a)(["\ndisplay:inline-block;\nheight:50px;\nwidth:auto;\n\n"]);return yn=function(){return e},e}function xn(){var e=Object(h.a)(["\ndisplay:inline-block;\nwidth:100%;\nmax-width: 100%;\nz-index:1000;\nposition:relative;\n"]);return xn=function(){return e},e}var On=m.a.nav(xn()),jn=m.a.img(yn()),Cn=m.a.h2(kn()),An=m.a.a(En()),Sn=m.a.nav(bn()),Ln=m.a.div(wn()),In=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(u.a)(n).call(this,e))).toggle=t.toggle.bind(Object(fn.a)(Object(fn.a)(t))),t.state={isOpen:!1,loggedIn:!1},t}return Object(d.a)(n,e),Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;b.isLoggedIn().then(function(n){n.data.loggedIn&&e.setState({loggedIn:!0})}).catch(function(e){console.log(e)})}},{key:"logout",value:function(){b.logout().then(function(e){window.location.pathname="/"}).catch(function(e){console.log(e)})}},{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement(On,null,r.a.createElement(Sn,null,r.a.createElement(An,{href:"/signup"},"signup"),r.a.createElement(An,{href:"/login"},"login")),r.a.createElement(Ln,null,r.a.createElement("a",{href:"/"},r.a.createElement(jn,{src:vn.a})),r.a.createElement(Cn,null,"rabbithole")))}}]),n}(a.Component);function Un(){var e=Object(h.a)(["\nposition:absolute;\ndisplay: grid;\ngrid-template-rows: 1fr 9fr;\nwidth:100vw;\nheight:100vh;\nmax-width:100%;\nmax-height:100%;\nbackground-color:#111111;\nbutton:focus {\n  outline: 0;\n}\n"]);return Un=function(){return e},e}var Fn=m.a.div(Un()),zn=function(e){function n(){return Object(s.a)(this,n),Object(l.a)(this,Object(u.a)(n).apply(this,arguments))}return Object(d.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(Fn,null,r.a.createElement(p.a,null,r.a.createElement(In,null),r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/",component:ye}),r.a.createElement(f.a,{exact:!0,path:"/signup",render:function(e){return r.a.createElement(mn,Object.assign({},e,{action:"signup"}))}}),r.a.createElement(f.a,{exact:!0,path:"/login",render:function(e){return r.a.createElement(mn,Object.assign({},e,{action:"login"}))}}),r.a.createElement(f.a,{component:pn}))))}}]),n}(a.Component),Pn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Dn(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(zn,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Pn?function(e){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Dn(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):Dn(e)})}}()}},[[199,1,2]]]);
//# sourceMappingURL=main.f8deac66.chunk.js.map